(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3161],{1201:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSG:function(){return O},default:function(){return U}});var t=i(34885),o=i(24438),r=i(35502),c=i(66868),s=i.n(c),a=i(92255),l=i(10190),d=i.n(l),p=i(77005),f=i(41566),u=i(17055),h=i(32737),m=i(11311),g=i(24184),x=i(85948),w=i(56949);var y=i(27844),_=i(53726),v=i(68647),j=i(27697),P=i(79293),C=i(37330),Z=i(61585),N=i(23754),T=i(48692),b=i(77292),k=i(88349);function E(e){var n=e.initialTopics,i=(0,f.Z)().t,c=(0,Z.GI)(),a=(0,y.Z)(["CAN_VIEW_UNPUBLISHED_TOPIC_PAGES"],y.G),l=function(e){var n=t.useState(!1),i=(0,r.Z)(n,2),o=i[0],c=i[1];return t.useEffect((function(){function n(n){n.code===e&&c(!0)}function i(n){n.code===e&&c(!1)}return window.addEventListener("keydown",n),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",i)}}),[e]),o}("ShiftLeft"),j=t.useState(!1),P=(0,r.Z)(j,2),E=P[0],O=P[1],U=t.useState(n),B=(0,r.Z)(U,2),D=B[0],F=B[1],M=(0,u.d4)(_.RZ.collection("topics"),{idField:"id"}),X=(0,r.Z)(M,1)[0];t.useEffect((function(){F(n)}),[n]),t.useEffect((function(){X&&a&&F(X)}),[X,a]);var K=D.filter((function(e){return e.isPublished}));function V(e,n){return q.apply(this,arguments)}function q(){return(q=(0,o.Z)(s().mark((function e(n,i){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.RZ.collection("topics").doc(n.id).update({sortWeight:(n.sortWeight||0)+i});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=l?3:1;return(0,k.jsxs)(h.Z,{flagBag:c,header:a&&E&&(0,k.jsx)(g.g,{className:"dark",children:(0,k.jsxs)(N.K,{gap:2,className:"items-center",children:[(0,k.jsx)(x.O,{darkMode:!0}),(0,k.jsx)(T.z,{variant:"naked",iconLeft:"close",onClick:function(){return O(!1)},children:"Exit Editor Mode"})]})}),children:[(0,k.jsx)(w.U,{title:i("common:all-topics-header")}),(0,k.jsxs)(R,{children:[(0,k.jsx)(W,{children:i("common:all-topics-header")}),a&&!E&&(0,k.jsx)(T.z,{onClick:function(){return O(!0)},iconLeft:"pencil",children:i("common:edit")})]}),(0,k.jsx)(H,{children:i("common:all-topics-subheader")}),(0,k.jsx)(C.r,{columns:{xs:2,sm:3,md:3,lg:3},children:(0,v.R)(E?D:K).map((function(e){return(0,k.jsxs)(S,{children:[(0,k.jsx)(p.default,{href:"/categories/".concat(e.slug),passHref:!0,children:(0,k.jsx)(I,{children:(0,k.jsx)(A,{src:e.coverPhoto})})}),a&&E?(0,k.jsxs)(k.Fragment,{children:[e.isPublished?(0,k.jsx)(L,{children:e.name}):(0,k.jsx)(m.C,{withTrigger:!0,value:e.name,onSave:function(n){_.RZ.collection("topics").doc(e.id).update({name:n.value,slug:d()(n.value,{lower:!0,strict:!0})})},children:(0,k.jsx)(L,{children:e.name})}),(0,k.jsxs)(z,{children:[(0,k.jsx)(b.h,{icon:"arrowUp",onClick:function(){return V(e,J)}}),(0,k.jsx)(b.h,{icon:"arrowDown",onClick:function(){return V(e,-J)}}),(0,k.jsxs)(G,{children:["Sort Weight: ",e.sortWeight]})]})]}):(0,k.jsx)(L,{children:e.name})]},e.id)}))})]})}var S=a.ZP.div.withConfig({displayName:"AllTopicsPage__TopicContainer",componentId:"sc-fyephy-0"})(["display:flex;flex-direction:column;width:100%;margin-bottom:8px;"]),I=a.ZP.a.withConfig({displayName:"AllTopicsPage__TopicCoverLink",componentId:"sc-fyephy-1"})(["position:relative;padding-top:55%;margin-bottom:4px;"]),A=a.ZP.img.withConfig({displayName:"AllTopicsPage__TopicCover",componentId:"sc-fyephy-2"})(["display:block;width:100%;margin-bottom:8px;object-fit:contain;position:absolute;height:100%;top:0;left:0;"," border-radius:",";"],P.t.borderHover(),j.rS.radius.large),L=a.ZP.p.withConfig({displayName:"AllTopicsPage__Title",componentId:"sc-fyephy-3"})(["font-size:14px;font-weight:",";"],j.rS.fontWeights.semi),R=a.ZP.div.withConfig({displayName:"AllTopicsPage__HeaderRow",componentId:"sc-fyephy-4"})(["display:flex;flex-direction:row;align-items:center;margin-top:24px;margin-bottom:12px;button{margin-left:12px;}"]),W=a.ZP.h1.withConfig({displayName:"AllTopicsPage__Header",componentId:"sc-fyephy-5"})(["margin:0;"]),H=a.ZP.p.withConfig({displayName:"AllTopicsPage__Subheader",componentId:"sc-fyephy-6"})(["margin-bottom:32px;"]),z=a.ZP.div.withConfig({displayName:"AllTopicsPage__SortRow",componentId:"sc-fyephy-7"})(["display:flex;flex-direction:row;align-items:center;margin-top:8px;>:not(:first-child){margin-left:8px;}"]),G=a.ZP.span.withConfig({displayName:"AllTopicsPage__SortLabel",componentId:"sc-fyephy-8"})(["font-size:12px;"]),O=!0;function U(e){var n=e.topics;return(0,k.jsx)(E,{initialTopics:n})}},15621:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories",function(){return i(1201)}])}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[9774,2888,179],(function(){return n(66410),n(15621)}));var i=e.O();_N_E=i}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8760],{85223:function(e,n,t){"use strict";var r=t(24537),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,n){var t,a,o,s,c,l,u=!1;n||(n={}),t=n.debug||!1;try{if(o=r(),s=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),n.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=i[n.format]||i.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(n.format,e);n.onCopy&&(r.preventDefault(),n.onCopy(r.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){t&&console.error("unable to copy using execCommand: ",d),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),u=!0}catch(d){t&&console.error("unable to copy using clipboardData: ",d),t&&console.error("falling back to prompt"),a=function(e){var n=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,n)}("message"in n?n.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),l&&document.body.removeChild(l),o()}return u}},24537:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,t=[],r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||t.forEach((function(n){e.addRange(n)})),n&&n.focus()}}},39850:function(e,n,t){"use strict";t.d(n,{f:function(){return m}});var r=t(87097),i=(t(34885),t(91643)),a=t(56648),o=t(98369),s=t(41566),c=t(69126),l=t(61585),u=t(69100),d=t(88349),m=function(){var e=(0,a.ES)(),n=e.user,t=e.loading,m=(0,s.Z)().t,p=(0,l.xu)().flags;(0,c.l)();var f=[{label:m("common:account"),link:{href:"/account"}},{label:m("common:security"),link:{href:"/account/security"}}].concat((0,r.Z)(null!==p&&void 0!==p&&p.enableTeams?[{label:(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[m("common:teams"),(0,d.jsx)(u.v,{})]}),link:{href:"/account/teams"}}]:[]),[{label:m("common:menu_plans"),link:{href:"/account/plans"}},{label:m("common:billing"),link:{href:"/account/billing"}}]);return t||n?(0,d.jsx)(o.m,{title:m("common:menu_account_settings"),nav:(0,d.jsx)(i.J,{items:f})}):null}},52721:function(e,n,t){"use strict";t.d(n,{U:function(){return C}});var r=t(58826),i=t(93467),a=t(24438),o=t(66868),s=t.n(o),c=t(34885),l=t(92255),u=t(81652),d=t(41566),m=t(90234),p=t(79254),f=t(95324),h=t(69848),g=t(48692),v=t(94325),x=t(27697),y=t(41492),b=t(88349),j=["onClick"];function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var I=l.ZP.div.withConfig({displayName:"ImageUpload__Div",componentId:"sc-rc3pt7-0"})(["display:flex;flex-direction:column;width:84px;height:84px;background-color:",";align-items:center;justify-content:center;background-image:",";background-size:cover;background-position:center;position:relative;transition:",";transition-property:opacity;color:",";div{opacity:",";z-index:2;color:",";transition:",";transition-property:opacity;margin-top:8px;}&:hover div{opacity:1;}&:after{content:'';position:absolute;width:100%;height:100%;transition:",";transition-property:border-radius;border-radius:",";}&:hover:after{background-color:rgba(0,0,0,0.5);}border-radius:",";box-shadow:none;"],x.rS.colors.light,(function(e){return e.$backgroundSrc?'url("'.concat(e.$backgroundSrc,'")'):"none"}),x.rS.transition.default,x.rS.colors.white,(function(e){return e.$empty?1:0}),(function(e){return e.$empty?x.rS.colors.black:x.rS.colors.white}),x.rS.transition.default,x.rS.transition.default,(function(e){return e.$square?x.rS.radius.medium:"100%"}),(function(e){return e.$square?x.rS.radius.medium:"100%"})),S=l.ZP.button.withConfig({displayName:"ImageUpload__FigmaButton",componentId:"sc-rc3pt7-1"})(["border:0;outline:0;background:none;padding:0;color:",";font-weight:",";cursor:pointer;&:hover{text-decoration:underline;}"],x.rS.colors.white,x.rS.fontWeights.semi),C=function(e){var n=e.square,t=e.defaultImageSrc,i=e.onFileDrop,o=e.style,l=e.loading,x=e.canUpload,w=void 0===x||x,C=e.label,_=void 0===C?"common:upload-image":C,O=e.dropzoneOptions,P=(0,d.Z)().t,N=(0,c.useState)(null),Z=N[0],T=N[1],D=(0,m.Lk)(),E=(0,p.p)(),R=(0,c.useCallback)(function(){var e=(0,a.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n[0]){e.next=3;break}throw new Error("No file uploaded");case 3:r=URL.createObjectURL(t),T(r),i(t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[i]),A=function(){var e=(0,a.Z)(s().mark((function e(){var n,t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.KW)(y.Hx)();case 2:if(!(n=e.sent)){e.next=9;break}return t=new File([n],"figma.png"),r=URL.createObjectURL(t),T(r),i(t),e.abrupt("return");case 9:E({type:"SHOW_TOAST",payload:{message:"Failed to export. Please select a layer",type:"error"}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){T(null)}),[t]);var z=(0,u.u)(k({onDrop:R},O)),U=z.getRootProps,M=z.getInputProps,B=z.isDragActive,H=!(Z||t),W="figma"===D;if(!w)return(0,b.jsx)(I,{$square:n,$backgroundSrc:Z||t,$empty:H,style:k({cursor:"default"},o),children:!(Z||t)&&(0,b.jsx)(h.J,{type:"camera",color:B?"ink-1000":"ink-300"})});var L=U(),F=L.onClick,$=(0,r.Z)(L,j);return(0,b.jsxs)(I,k(k({},$),{},{$square:n,$backgroundSrc:Z||t,$empty:H,style:k({cursor:n?void 0:"pointer"},o),onClick:n?void 0:F,children:[(0,b.jsx)("input",k({},M())),l?(0,b.jsx)("h1",{children:"Working..."}):n?(0,b.jsxs)(f.eM,{align:"center",gutter:"medium",children:[(0,b.jsx)(h.J,{type:"image",size:"10%",color:H?"ink-1000":"ink-000",className:"min-w-8 min-h-8"}),(0,b.jsx)(g.z,{variant:"secondary",size:"md",onClick:F,children:P(_)}),W&&(0,b.jsxs)("span",{children:["Or"," ",(0,b.jsx)(S,{onClick:A,children:"Use Selected Layer"})]})]}):(0,b.jsx)("div",{className:"flex justify-center mt-0",children:(0,b.jsx)(h.J,{type:"image",size:"10%",color:H?"ink-1000":"ink-000",className:"min-w-8 min-h-8"})})]}))}},91643:function(e,n,t){"use strict";t.d(n,{J:function(){return d}});t(34885);var r=t(92255),i=t(53746),a=t(77005),o=t(27697),s=t(11391),c=t(88349),l=r.ZP.a.withConfig({displayName:"Nav__NavButton",componentId:"sc-1t9r100-0"})(["border-bottom:",";height:100%;font-weight:",";opacity:",";padding:",";margin:0 32px 0 0;flex:0 1 auto;display:flex;align-items:center;justify-content:center;flex-shrink:1;text-decoration:none;cursor:pointer;&:hover{opacity:1;text-decoration:none;}"],(function(e){return e.$isActive?"2px solid ".concat(o.rS.colors.black):"none"}),o.rS.fontWeights.semi,(function(e){return e.$isActive?1:.5}),(function(e){return e.$isActive?"10px 0px 8px 0px":"10px 0px"})),u=r.ZP.div.withConfig({displayName:"Nav__Div",componentId:"sc-1t9r100-1"})(["display:flex;"]),d=function(e){var n=e.items,t=e.style,r=(0,i.useRouter)().pathname;return(0,c.jsx)(u,{style:t,children:n.map((function(e,n){return e.onClick?(0,c.jsx)(l,{onClick:e.onClick,$isActive:!1,children:e.label},n):e.link?(0,c.jsx)(a.default,{href:e.link.href,passHref:!0,children:(0,c.jsx)(l,{$isActive:(0,s.t9)(r).includes((0,s.t9)(e.link.href)),children:e.label},n)},n):null}))})}},98369:function(e,n,t){"use strict";t.d(n,{m:function(){return h}});var r=t(92255),i=t(37100),a=t(34885),o=t(77005),s=t(41566),c=t(27697),l=t(88349),u=r.ZP.ul.withConfig({displayName:"Breadcrumbs__WrapperUl",componentId:"sc-10ixenr-0"})(["align-self:end;li{line-height:1em;margin:0;display:inline-block;color:",";&:not(:first-child){text-indent:4px;}&:after{content:' / ';}}a{text-decoration:none;color:",";&:hover,&.focus-visible{text-decoration:underline;}}"],c.rS.colors.dark,c.rS.colors.dark),d=function(e){var n=e.children,t=e.className,r=(0,s.Z)().t;return(0,l.jsxs)(u,{className:t,children:[(0,l.jsx)("li",{children:(0,l.jsx)(o.default,{href:"/",children:(0,l.jsx)("a",{children:r("common:home")})})}),a.Children.map(n,(function(e){return e?(0,l.jsx)("li",{children:e}):null}))]})},m=t(53746),p=t(26847),f=t(85181);var h=(0,a.memo)((function(e){var n,t=e.hero,r=e.title,i=e.cta,a=e.artistLink,c=e.description,u=e.nav,d=e.collectionId,h=e.collectionSlug,S=e.collectionName,C=e.withBreadcrumbs,_=e.headerImage,O=e.style,P=(0,m.useRouter)(),N=(0,p.t7)(),Z=(0,s.Z)().t,T=(n=P.route).startsWith("/team/")?"teams":n.startsWith("/collections")?"collections":null;return(0,l.jsxs)(w,{style:O,children:[(0,l.jsxs)(g,{children:[C&&(0,l.jsxs)(j,{children:["collections"===T&&(0,l.jsx)(o.default,{href:"/collections",children:(0,l.jsx)("a",{children:Z("common:collections")})}),"teams"===T&&N&&(0,l.jsx)(o.default,{href:"/team/".concat(N.uid),children:(0,l.jsx)("a",{children:N.name})}),Boolean(d)&&(0,l.jsx)(o.default,{href:"/collections/".concat(d).concat(h?"/".concat(h):""),children:(0,l.jsx)("a",{children:S})})]}),(0,l.jsxs)(x,{children:["string"===typeof r?(0,l.jsx)("h1",{style:{margin:0},children:r}):r,t&&(0,l.jsx)(f.VM,{style:{margin:0},children:t}),a&&(0,l.jsx)(I,{children:a})]}),(0,l.jsx)(y,{children:i}),c&&(0,l.jsx)(b,{children:c})]}),_&&(0,l.jsx)(v,{children:_}),u&&(0,l.jsx)(k,{children:u})]})}));h.displayName="PageHeader";var g=r.ZP.div.withConfig({displayName:"PageHeader__HeaderGrid",componentId:"sc-1e4osxu-0"})(["display:grid;grid-gap:12px;grid-template-rows:[top] auto [middle] auto [end] auto;grid-template-columns:[title] 1fr [author] auto;","{grid-template-rows:[top] 24px [middle] minmax(36px,max-content) [end] 1fr;}"],(0,i.up)("sm")),v=r.ZP.div.withConfig({displayName:"PageHeader__HeaderImage",componentId:"sc-1e4osxu-1"})(["margin-top:8px;","{margin-top:16px;}","{margin-top:24px;}"],(0,i.up)("sm"),(0,i.up)("md")),x=r.ZP.div.withConfig({displayName:"PageHeader__TitleArea",componentId:"sc-1e4osxu-2"})(["grid-column:title;grid-row:middle;align-self:start;display:flex;align-items:baseline;min-width:0;"]),y=r.ZP.div.withConfig({displayName:"PageHeader__CtaArea",componentId:"sc-1e4osxu-3"})(["align-self:start;grid-column:author;grid-row:middle;","{align-self:end;grid-column:author;margin-top:0;}"],(0,i.up)("sm")),b=r.ZP.div.withConfig({displayName:"PageHeader__Description",componentId:"sc-1e4osxu-4"})(["grid-column:title;grid-column-end:artist;grid-row:end;"]),j=(0,r.ZP)(d).withConfig({displayName:"PageHeader__StyledBreadcrumbs",componentId:"sc-1e4osxu-5"})(["grid-row:top;grid-column:title;"]),w=r.ZP.div.withConfig({displayName:"PageHeader__Container",componentId:"sc-1e4osxu-6"})(["padding-bottom:12px;","{padding-bottom:16px;}","{padding-bottom:20px;}align-self:center;display:flex;flex-direction:column;","{order:2;}","{","{display:none;}","{order:2;}","{order:3;}","{order:1;}}"],(0,i.up)("sm"),(0,i.up)("md"),b,(0,i.z)("xs"),j,g,b,v),k=r.ZP.div.withConfig({displayName:"PageHeader__Nav",componentId:"sc-1e4osxu-7"})(["grid-column:title;grid-column-end:artist;grid-row:bottom;margin-top:16px;margin-bottom:4px;"]),I=r.ZP.div.withConfig({displayName:"PageHeader__Artist",componentId:"sc-1e4osxu-8"})(["white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:8px;","{margin-top:0;}"],(0,i.up)("sm"))},12876:function(e,n,t){"use strict";t.d(n,{x:function(){return m}});var r=t(24438),i=t(66868),a=t.n(i),o=t(34885),s=t(52721),c=t(56648),l=t(79254),u=t(55166),d=t(88349);function m(e){var n=e.style,t=e.endPoint,i=e.onComplete,m=e.additionalData,p=void 0===m?{}:m,f=e.square,h=e.defaultImageSrc,g=e.canUpload,v=e.label,x=(0,c.ES)().user,y=(0,o.useState)(!1),b=y[0],j=y[1],w=(0,l.p)();return(0,d.jsx)(s.U,{canUpload:g,square:f,loading:b,label:v,style:n,defaultImageSrc:h,onFileDrop:function(){var e=(0,r.Z)(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:return j(!0),e.prev=3,e.next=6,(0,u.c)({uploadEndpoint:t,additionalData:p,file:n});case 6:r=e.sent,null===i||void 0===i||i(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),w({type:"SHOW_TOAST",payload:{type:"error",message:e.t0.message}}),null===i||void 0===i||i({error:e.t0.message});case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(n){return e.apply(this,arguments)}}()})}},69126:function(e,n,t){"use strict";t.d(n,{l:function(){return c},I:function(){return l}});var r=t(56648),i=t(34885),a=t(53746),o=t(90234),s=t(65410);function c(){var e=(0,a.useRouter)(),n=(0,r.ES)(),t=n.user,o=n.loading;return(0,i.useEffect)((function(){o||t||e.replace("/sign-in?next=".concat(encodeURIComponent(e.asPath)))}),[o,t,e])}function l(){var e=(0,a.useRouter)(),n=(0,o.Lk)(),t=(0,r.ES)(),c=t.user,l=t.loading;(0,i.useEffect)((function(){if(!l&&c)if(e.query.next)try{var t=new URL("".concat(s.OB.WEB_URL).concat(decodeURIComponent(String(e.query.next))));e.replace("".concat(t.pathname).concat(t.search))}catch(r){e.replace("/")}else"web"!==n?e.replace("/collections?isPlugin=true"):e.replace("/")}),[l,c,e,n])}},93236:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return K},default:function(){return X}});var r=t(35502),i=t(34885),a=t(39850),o=t(48692),s=t(92255),c=t(4410),l=t(93951),u=t(56648),d=t(41566),m=t(83136),p=t(55691),f=t(87097),h=t(24438),g=t(66868),v=t.n(g),x=t(17055),y=t(89545),b=t(55429),j=t(36699),w=t(53726),k=t(24875),I=t(47),S=t(49876),C=t(79254),_=t(27697),O=t(11311),P=t(26847),N=t(27844),Z=t(64776),T=t(620),D=t(85181),E=t(65410),R=t(12876),A=t(53613),z=t(88349);function U(e){var n,t,a=e.teamId,s=(0,d.Z)().t,m=(0,i.useRef)(null),f=(0,i.useState)("MEMBER"),g=f[0],k=f[1],_=(0,C.p)(),Z=(0,u.sl)(),U=(0,b.ZP)("/api/teams/memberData?teamId=".concat(a),I.SK),L=U.data,F=void 0===L?[]:L,$=U.revalidate,q=U.error,J=(0,x.d4)(w.RZ.collection("teams/".concat(a,"/memberships")).where("joined","==",!0)),G=(0,r.Z)(J,2),K=G[0],X=void 0===K?[]:K,Q=G[1],V=(0,x.d4)(w.RZ.collection("/teams/".concat(a,"/invitations")).where("type","==","magic-link").limit(1)),Y=(0,r.Z)(V,1)[0],ee=(0,P.t7)(a),ne=(0,x.d4)(w.RZ.collection("teams/".concat(a,"/memberships")).where("userId","==",null===(n=w.I8.currentUser)||void 0===n?void 0:n.uid)),te=(0,r.Z)(ne,1)[0],re=null===(t=(void 0===te?[]:te)[0])||void 0===t?void 0:t.role,ie=(0,N.Z)(["CAN_EDIT_TEAM"],N.G,re),ae=(0,y.partition)(F,(function(e){return e.joined})),oe=(0,r.Z)(ae,2),se=oe[0],ce=oe[1];(0,i.useEffect)((function(){$()}),[X,$]),(0,i.useEffect)((function(){Z({type:"FETCH_SUBSCRIPTION_REQUEST"})}),[null===ee||void 0===ee?void 0:ee.subscriptionStatus,Z]);var le=(0,p.A)();if(Q)return null;var ue=function(){var e=(0,h.Z)(v().mark((function e(){var n,t,r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=null===(n=m.current)||void 0===n?void 0:n.value)&&m.current){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,I.ax)("/api/teams/sendInvite",{method:"POST",body:JSON.stringify({teamId:a,email:t,role:g}),headers:{"content-type":"application/json"}});case 5:if(!("error"in(r=e.sent))){e.next=9;break}return _({type:"SHOW_TOAST",payload:{type:"error",message:r.error}}),e.abrupt("return");case 9:_({type:"SHOW_TOAST",payload:{type:"success",message:(0,z.jsx)(j.Z,{i18nKey:"teams:invitation-confirmation",values:{email:t}})}}),m.current.value="",$();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,h.Z)(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.ax)("api/teams/resetMagicLink?teamId=".concat(a));case 2:"error"in(n=e.sent)&&_({type:"SHOW_TOAST",payload:{type:"error",message:n.error}}),_({type:"SHOW_TOAST",payload:{type:"success",message:s("teams:magic-link-reset-confirmation")}});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=(0,h.Z)(v().mark((function e(n,t){var r,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t===(null===(r=w.I8.currentUser)||void 0===r?void 0:r.uid),"remove"!==n){e.next=5;break}le({type:"confirm",props:{confirmationPrompt:s(i?"teams:leave-team":"teams:remove-member"),confirmationDescription:s(i?"teams:leave-confirmation":"common:remove-confirmation"),confirmationButtonLabel:s(i?"teams:leave-team":"teams:remove-member"),cancelButtonLabel:s("common:cancel"),handleConfirmation:function(){var e=(0,h.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.Ah)(t,a);case 2:$();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),e.next=8;break;case 5:return e.next=7,(0,l.ON)(t,a,n);case 7:$();case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();if(!ee||!ee.name)return null;var pe=(0,T.BZ)(ee.subscriptionStatus),fe=se.some((function(e){var n;return e.memberId!==(null===(n=w.I8.currentUser)||void 0===n?void 0:n.uid)&&"ADMIN"===e.role})),he=null===Y||void 0===Y?void 0:Y[0];return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,margin:"12px 0"},children:[(0,z.jsx)(R.x,{endPoint:"/api/teams/uploadBanner?teamId=".concat(ee.uid),defaultImageSrc:ee.logo?"".concat(E.OB.IMGIX_URL,"/").concat(ee.logo,"?w=84&h=84&auto=format"):void 0}),ie?(0,z.jsx)(O.C,{value:ee.name,withTrigger:!0,onSave:function(e){var n=e.value;(0,l.gZ)(a,n)},style:{padding:"8px 0"},children:(0,z.jsx)("h2",{children:ee.name})}):(0,z.jsx)("h2",{children:ee.name})]}),pe?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(j.Z,{i18nKey:"teams:seats-used",values:{numMembers:ee.numMembers,seats:ee.seats}})," ",ie&&(0,z.jsx)(o.z,{variant:"secondary",size:"sm",className:"ml-4",onClick:function(){return le({type:"subscribe",props:{selectedTeamId:a,showProFeatures:!1,initialSeats:ee.seats,ignoreConfirmation:!0,onCheckoutCompleted:function(){_({type:"SHOW_TOAST",payload:{type:"success",message:s("teams:team-update-success")}})}}})},children:s("teams:change-seats")})]}),ee.numMembers>=ee.seats&&ie&&(0,z.jsx)(M,{message:s("teams:max-seats-notification"),type:"info",closeTimeoutMS:null}),(0,z.jsxs)(W,{children:[he&&(0,z.jsxs)("div",{children:[(0,z.jsx)(D.mz,{children:s("teams:invite-link")}),s("teams:secret-link-description"),(0,z.jsxs)(c.l0,{size:"large",onSubmit:function(e){return e.preventDefault()},style:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",maxWidth:"unset"},children:[(0,z.jsx)("input",{type:"text",onFocus:function(e){return e.target.select()},readOnly:!0,value:"".concat(E.OB.WEB_URL,"/api/teams/acceptInvite?invitationId=").concat(he.id)}),(0,z.jsx)(o.z,{size:"lg",className:"ml-4",onClick:function(){(0,A.v)("".concat(E.OB.WEB_URL,"/api/teams/acceptInvite?invitationId=").concat(he.id)),_({type:"SHOW_TOAST",payload:{type:"success",message:s("common:page-copied-to-your-clipboard")}})},children:s("common:copy-link")})]}),ie&&(0,z.jsx)(o.z,{variant:"link",size:"inherit",onClick:de,children:s("teams:reset-link")})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(D.mz,{children:s("teams:invite-via-email")}),(0,z.jsxs)(c.l0,{size:"large",onSubmit:function(e){return e.preventDefault()},style:{display:"flex",flexDirection:"row",alignItems:"center",width:"100%",maxWidth:"unset"},children:[(0,z.jsx)("input",{type:"email",placeholder:"Enter email",ref:m,style:{marginRight:16}}),(0,z.jsx)(S.v2,{options:[{value:"ADMIN",label:(0,z.jsxs)(H,{children:["Admin",(0,z.jsx)("small",{children:s("teams:admin-role-description")})]})},{value:"MEMBER",label:(0,z.jsxs)(H,{children:["Member",(0,z.jsx)("small",{children:s("teams:member-role-description")})]})}],onClick:function(e){var n=e.value;k(n)},menuButton:(0,z.jsx)(o.z,{variant:"secondary",size:"lg",disabled:!ie,iconRight:"chevronDown",children:"ADMIN"===g?"Admin":"Member"})}),(0,z.jsx)(o.z,{size:"lg",className:"ml-4",onClick:ue,disabled:ee.numMembers>=ee.seats,children:s("teams:send-invite")})]})]}),(0,z.jsxs)("div",{children:[(0,z.jsx)(D.mz,{children:s("teams:billable-members")}),q&&(0,z.jsxs)("div",{children:["Failed to load team members"," ",(0,z.jsx)(o.z,{onClick:$,variant:"secondary",size:"sm",children:"Retry"})]}),(0,z.jsx)("div",{children:se.map((function(e){return(0,z.jsx)(B,{member:e,canChangeRole:"ADMIN"===re,canLeaveTeam:F.length>1&&fe,onChangeRole:me},e.memberId)}))})]}),ce.length>0&&(0,z.jsxs)("div",{children:[(0,z.jsx)(D.mz,{children:s("teams:pending-invitations")}),(0,z.jsx)("div",{children:ce.map((function(e){return(0,z.jsx)(B,{member:e,canChangeRole:!0,onChangeRole:me},e.memberId)}))})]})]})]}):(0,z.jsxs)(z.Fragment,{children:[s("teams:missing-subscription")," ",(0,z.jsx)(o.z,{size:"sm",onClick:function(){return le({type:"subscribe",props:{selectedTeamId:a,showProFeatures:!1}})},children:s("common:upgrade")}),(0,z.jsx)(o.z,{size:"sm",onClick:function(){var e;null!==(e=w.I8.currentUser)&&void 0!==e&&e.uid&&me("remove",w.I8.currentUser.uid)},variant:"danger",children:"Leave Team"})]})]})}var M=(0,s.ZP)(Z.D).withConfig({displayName:"TeamManagement__Notification",componentId:"sc-15k1kt-0"})(["position:static;left:unset;bottom:unset;transform:unset;margin-top:8px;"]);function B(e){var n,t,r,i,a=e.member,s=e.onChangeRole,c=e.canChangeRole,l=e.canLeaveTeam,u=(0,d.Z)().t;return(0,z.jsxs)(L,{children:[(0,z.jsx)(k.s,{size:"lg",name:a.name||a.email,className:"mr-2"}),(0,z.jsxs)("div",{className:"mr-auto",children:[a.name&&(0,z.jsx)("strong",{className:"block",children:a.name}),a.email]},a.memberId),(0,z.jsx)(S.v2,{options:[].concat((0,f.Z)(c&&a.memberId!==(null===(n=w.I8.currentUser)||void 0===n?void 0:n.uid)?[{value:"ADMIN",label:(0,z.jsxs)(H,{children:["Admin",(0,z.jsx)("small",{children:u("teams:admin-role-description")})]})},{value:"MEMBER",label:(0,z.jsxs)(H,{children:["Member",(0,z.jsx)("small",{children:u("teams:member-role-description")})]})}]:[]),[{value:"remove",label:(0,z.jsx)("div",{style:{color:_.rS.colors.danger},children:(null===(t=w.I8.currentUser)||void 0===t?void 0:t.uid)===a.memberId?"Leave Team":a.joined?u("teams:remove-from-team"):u("teams:revoke-invite")})}]),onClick:function(e){var n=e.value;s(n,a.memberId)},menuButton:(0,z.jsx)(o.z,{variant:"secondary",iconRight:"chevronDown",disabled:!l&&a.memberId===(null===(r=w.I8.currentUser)||void 0===r?void 0:r.uid)||a.memberId!==(null===(i=w.I8.currentUser)||void 0===i?void 0:i.uid)&&!c,children:"ADMIN"===a.role?"Admin":"Member"})})]},a.memberId)}var H=s.ZP.div.withConfig({displayName:"TeamManagement__MenuItem",componentId:"sc-15k1kt-1"})(["display:flex;width:200px;flex-direction:column;text-align:left;padding:12px 0;font-weight:",";small{font-weight:",";margin-top:4px;white-space:normal;}"],_.rS.fontWeights.semi,_.rS.fontWeights.regular),W=s.ZP.div.withConfig({displayName:"TeamManagement__TeamSections",componentId:"sc-15k1kt-2"})(["display:flex;flex-direction:column;margin-bottom:56px;> div{margin:24px 0;}"]),L=s.ZP.div.withConfig({displayName:"TeamManagement__Row",componentId:"sc-15k1kt-3"})(["display:flex;flex-direction:row;align-items:center;padding:18px 0;border-bottom:1px solid ",";> div{margin:0 32px 0 0;}"],_.rS.colors.light),F=t(30214),$=t(53746),q=t(61585),J=t(69126),G=t(32737),K=!0;function X(){var e,n=(0,F.a)().error,t=(0,u.sl)(),s=(0,u.ES)(),f=s.user,h=s.loading,g=(0,P.y2)(),v=g.teamsById,x=g.membershipData,b=g.loading,w=(0,d.Z)().t,k=(0,p.A)(),I=(0,C.p)(),S=(0,q.GI)();(0,J.l)(),(0,i.useEffect)((function(){n&&function(e){return e in Q}(n)&&I({type:"SHOW_TOAST",payload:{type:"error",message:Q[n]}}),$.default.replace("/account/teams")}),[n,I]);var O=(0,y.partition)(x,(function(e){return e.joined})),N=(0,r.Z)(O,2),Z=N[0],T=N[1],D=h||b;return null!==S&&void 0!==S&&null!==(e=S.flags)&&void 0!==e&&e.enableTeams?(0,z.jsxs)(G.Z,{flagBag:S,children:[(0,z.jsx)(a.f,{}),f&&(0,z.jsxs)(z.Fragment,{children:[D&&"".concat(w("common:loading"),"..."),!D&&!Z.length&&!T.length&&(0,z.jsxs)(Y,{children:[(0,z.jsx)(m.default,{src:"/illustrations/tutto-ricco-group.svg",width:353,height:168,alt:""}),(0,z.jsx)("h2",{children:w("teams:teams-title")}),(0,z.jsx)("p",{children:w("teams:teams-description")}),(0,z.jsx)(o.z,{variant:"active",size:"lg",onClick:function(){k({type:"subscribe",props:{showProFeatures:!1}})},children:w("teams:try-teams-for-free")}),(0,z.jsx)("small",{style:{marginTop:8,color:_.rS.colors.medium},children:w("common:credit-card-required")})]}),T.length>0&&(0,z.jsxs)(c.hj,{children:[(0,z.jsx)("h2",{children:w("teams:invitations")}),T.map((function(e){var n=v[e.teamId];return n?(0,z.jsxs)(V,{children:[(0,z.jsx)(j.Z,{i18nKey:"teams:invitation-message",values:{teamName:n.name}}),(0,z.jsx)(o.z,{size:"sm",variant:"secondary",onClick:function(){(0,l.Ah)(f.uid,e.teamId)},children:w("common:decline")}),(0,z.jsx)(o.z,{size:"sm",variant:"active",onClick:function(){(0,l.Tg)(e.teamId),t({type:"FETCH_SUBSCRIPTION_REQUEST"})},children:w("common:accept")})]},e.uid):null}))]}),Z.map((function(e){return(0,z.jsx)(U,{teamId:e.teamId},e.teamId)}))]})]}):null}var Q={"no-seats":"There are no seats left for this team. Please contact the team administrator."};var V=s.ZP.div.withConfig({displayName:"teams__Invitation",componentId:"sc-up2rl8-0"})(["display:flex;align-items:center;margin:4px 0;button{margin-left:12px;}"]),Y=s.ZP.div.withConfig({displayName:"teams__ZeroStateWrapper",componentId:"sc-up2rl8-1"})(["display:flex;align-items:center;flex-direction:column;margin-top:56px;h2{margin-top:24px;}button{margin-top:24px;}"])},55166:function(e,n,t){"use strict";t.d(n,{c:function(){return d}});var r=t(93467),i=t(35502),a=t(24438),o=t(66868),s=t.n(o),c=t(53348);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)(s().mark((function e(n){var t,r,a,o,l,d,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.uploadEndpoint,r=n.additionalData,a=void 0===r?{}:r,o=n.file,l=new FormData,e.next=4,(0,c.M)();case 4:return d=e.sent,l.append("image",o),Object.entries(a).forEach((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];l.append(t,r)})),e.next=9,fetch(t,{method:"POST",body:l,headers:u({},d)});case 9:if((m=e.sent).ok){e.next=12;break}throw new Error("There was an error uploading your image.");case 12:return e.abrupt("return",m.json());case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},53613:function(e,n,t){"use strict";t.d(n,{v:function(){return c}});var r=t(24438),i=t(66868),a=t.n(i),o=t(85223),s=t.n(o);function c(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s()(n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},38473:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/teams",function(){return t(93236)}])}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[1652,1492,9774,2888,179],(function(){return n(66410),n(38473)}));var t=e.O();_N_E=t}]);